---

---

<div class="loading-screen"></div>

<style>
  .loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: hsl(0, 0%, 98%);
    z-index: 9999;
    opacity: 1;
    transition: opacity 1s ease-out;
  }

  .loading-screen.fade-out {
    opacity: 0;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const loadingScreen = document.querySelector(".loading-screen") as any;
    let startTime = performance.now();

    function hideLoadingScreen() {
      requestAnimationFrame(() => {
        loadingScreen.classList.add("fade-out");
      });
    }

    function checkCacheAndHide() {
      const loadTime = performance.now() - startTime;
      const isCached = loadTime < 200; // 200ミリ秒未満の場合、キャッシュされていると仮定

      if (isCached) {
        // キャッシュがある場合、短い遅延を設定
        setTimeout(hideLoadingScreen, 300);
      } else {
        // キャッシュがない場合、より長い遅延を設定
        setTimeout(hideLoadingScreen, 1000);
      }
    }

    window.addEventListener("load", checkCacheAndHide);

    loadingScreen.addEventListener("transitionend", () => {
      loadingScreen.style.display = "none";
    });
  });
</script>
